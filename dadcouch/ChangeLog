2011-04-26  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	  Add a later() method to do deferred triggering of result delay.
	  Use it at the end, but not yet for every result, so we see the
	  difference.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Cache artists again for faster lookup.
	* python/dadcouch/test/test_model_daddb.py:
	  Adapt test.
	* tests/artists.py:
	  use our reactor, does not seem to fix things though.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	  Add a small delay before firing result of a block.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/gtk2reactor.py:
	  Import twisted's gtk2 reactor so we can play with the priorities.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	* python/dadcouch/test/test_model_daddb.py:
	  Rewrite code, prepare for adding callbacks for getting tracks
	  into the model.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	* python/dadcouch/test/test_common_manydef.py:
	  Add test for failures too.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	* python/dadcouch/test/test_common_manydef.py:
	  Add concept of callbacks and errbacks to callables.
	  Add a test for it.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	* python/dadcouch/test/test_common_manydef.py (added):
	  Move test code to a unit test

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* couchdb/views/tracks/map.js:
	  Add artist_ids as value.
	* python/dadcouch/model/daddb.py:
	  Add artist_ids to TrackRow result, and resolve Ids for them.
	* python/dadcouch/test/test_model_daddb.py:
	  Add test.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/test/test_model_daddb.py:
	  Add a test for TrackSelectorModel with some comments for
	  things to fix so we get artist names too.

2011-04-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/test/test_model_daddb.py:
	  Add a test for TrackModel.
	* python/dadcouch/model/daddb.py:
	  Return the original object in resolveIds.
	  Adapt in getPlaylist to this change so selector still works.
	* python/dadcouch/selecter/couch.py:
	  Add an errback for failures falling off the wagon.
	* tests/track.py:
	  Add some FIXME's and asserts.

2011-04-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* tests/artists.py:
	  Controllers are now moved to dadcore.

2011-04-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  convert score to inlinecallbacks.

2011-04-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/couch.py:
	  Fix a bug in Score.scores; it should be a list of dicts.
	* python/dadcouch/model/daddb.py:
	  Fix internals of some functions according to test.
	  Rename ambiguously named function.
	* python/dadcouch/test/test_model_daddb.py:
	  Fix score test.

2011-04-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/test/__init__.py:
	  Init log for tests.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/test/test_model_daddb.py:
	  Add a test for score too.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Refactor getOrAddUser to use inlineCallbacks.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/show-coverage.py (added):
	* scripts/pep8.py (added):
	* Makefile (added):
	  Add some scripts and Makefile targets for coverage and pep8.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	* python/dadcouch/test/test_model_daddb.py:
	  Add more tests.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Change test case.
	* python/dadcouch/test/test_model_daddb.py (added):
	  Add a test, using couchapp to push our couchdb stuff to
	  database.
	  Add a simple getCategory test.

2011-04-23  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/extern/__init__.py:
	  Get paisley on our sys.path

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* tests/artists.py:
	* tests/track.py:
	  Use the new view error method.

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Add getOrAddUser so we can rate for users that do not exist.
	  Temporarily remove getting full track docs because it's slow,
	  until we benchmark and get smarter about it.
	* tests/artists.py:
	  Hook up showing the UI for a track.
	* tests/track.py:
	  Move reactor installation to a __main__ check to not break
	  importing it.

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Add code to score tracks.
	* tests/track.py (added):
	  Add a test that allows us to show a track based on the title.

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* tests/artists.py:
	  Destroy on window close.

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* couchdb/views/scores-by-subject (added):
	* couchdb/views/scores-by-subject/map.js (added):
	  Add a map to list scores by subject id.

2011-04-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/selecter/couch.py:
	  Split off user option as well so we can use it in tests.

2011-04-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Fix unicode bugs.
	  Time getting artists.

2011-04-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Add some timing.
	* tests/artists.py:
	  Add a tracks view. Really slow at the moment.

2011-04-10  Thomas Vander Stichele  <thomas at apestaart dot org>

	* data/ui (deleted):
	* data/ui/Throbber.png (deleted):
	* data/ui/Throbber.gif (deleted):
	  Moved to dadgtk.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* tests/artists.py:
	  Refactor to use new dadgtk.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/selecter/couch.py:
	  Add some cache debugging.
	* tests/artists.py:
	  Use options.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/selecter/couch.py:
	* python/dadcouch/common/cachedb.py (deleted):
	  Remove cachedb completely.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/couch.py:
	* python/dadcouch/common/mapping.py (deleted):
	  Delete mapping wrapper.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/cachedb.py:
	* python/dadcouch/model/daddb.py:
	* python/dadcouch/selecter/couch.py:
	* tests/artists.py:
	  Refactor to use the cache branch of my paisley github
	  checkout.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	* tests/artists.py:
	  Reorder code before making it a module.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	* tests/artists.py:
	  Move out CouchDB model classes.

2011-04-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Move objectFactories for tracks here.
	* tests/artists.py:
	  Use base classes.

2011-02-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/common/manydef.py:
	  Fix a bug where we were not properly passing the callable to the
	  lambda.
	* python/dadcouch/model/daddb.py:
	* python/dadcouch/selecter/couch.py:
	  Adapt to selecter changes so that we can show artist and title.

2011-01-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* couchdb/views/slices-by-audiofile (added):
	* couchdb/views/slices-by-audiofile/map.js (added):
	  Look up slices by audiofile.id, start, end

2011-01-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/lookup.py:
	  Raise a KeyError if we cannot look up a directory for a track.
	* python/dadcouch/model/daddb.py:
	  Don't do random lookups by default, but add an optional kwarg
	  for it.
	* python/dadcouch/selecter/couch.py:
	  Extract couchdb options.
	* scripts/trackloader.py:
	  Use couchdb options parsing.
	  Clean up output.

2011-01-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/model/daddb.py:
	  Add a random parameter to getPlaylist and getTracks.
	  Default to False instead so we can reproduce runs.
	* python/dadcouch/selecter/couch.py:
	  Allow specifying the database.
	  Remove shuffle for now.

2011-01-28  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dadcouch/selecter/couch.py:
	  Convert result to TrackMix.
	  Now playback works again, albeit without mixes.

2010-11-20  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dad/common/cachedb.py:
	  Rename open to map.
	  Chain up to parent if not cached.
	* python/dad/model/daddb.py (added):
	* scripts/online.py:
	  Rewrite using new daddb.py

2010-11-20  Thomas Vander Stichele  <thomas at apestaart dot org>

	* python/dad/common/manydef.py:
	  Fire straight away if there are no callables.
	  Space per 200 instead.

2010-11-20  Thomas Vander Stichele  <thomas at apestaart dot org>

	* README:
	* couchdb/views/stats (added):
	* couchdb/views/stats/reduce.js (added):
	* couchdb/views/stats/map.js (added):
	  Add stats view.

